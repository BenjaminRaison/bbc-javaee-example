<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
>

    <nav>
        <div class="nav-wrapper">
            <!-- With <base> set, "" in href points to the base URL -->
            <a href="" class="brand-logo"><i class="material-icons">swap_horiz</i>#{msg['site_name']}</a>
            <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li>
                    <c:choose>
                        <c:when test="#{userSession.loggedIn}">
                            <h:form>
                                <h:commandLink value="#{msg['signout']}" action="#{userSession.logout()}" id="signout"/>
                            </h:form>
                        </c:when>
                        <c:otherwise>
                            <a id="signin"
                               href="#{facesContext.externalContext.applicationContextPath}/signin.jsf">#{msg['signin']}</a>
                        </c:otherwise>
                    </c:choose>
                </li>
                <!--FIXME: FInd a better way to do links-->
                <li><a href="#{facesContext.externalContext.applicationContextPath}/sell.jsf">#{msg['sell']}</a></li>
                <li><a href="#{facesContext.externalContext.applicationContextPath}/browse.jsf">#{msg['browse']}</a>
                </li>
                <li><a id="dropdown-lang-button" class="dropdown-button waves-effect waves-light btn" href="#"
                       data-activates="dropdown-lang" data-beloworigin="true"><i
                        class="material-icons right color-white-important">arrow_drop_down</i>#{msg[localeHandler.locale]}
                </a>
                    <ul id="dropdown-lang" class="dropdown-content">
                        <h:form>
                            <li><h:commandLink value="#{msg['en']}" action="#{localeHandler.setLocale('en')}"/></li>
                            <li><h:commandLink value="#{msg['de']}" action="#{localeHandler.setLocale('de')}"/></li>
                        </h:form>
                    </ul>
                </li>
            </ul>
            <ul class="side-nav" id="mobile-demo">
                <li>
                    <c:choose>
                        <c:when test="#{userSession.loggedIn}">
                            <h:form>
                                <h:commandLink id="signout-mobile" value="#{msg['signout']}"
                                               action="#{userSession.logout()}"/>
                            </h:form>
                        </c:when>
                        <c:otherwise>
                            <a id="signin-mobile"
                               href="#{facesContext.externalContext.applicationContextPath}/signin.jsf">#{msg['signin']}</a>
                        </c:otherwise>
                    </c:choose>
                </li>
                <li><a href="#{facesContext.externalContext.applicationContextPath}/sell.jsf">#{msg['sell']}</a></li>
                <li><a href="#{facesContext.externalContext.applicationContextPath}/browse.jsf">#{msg['browse']}</a>
                </li>
                <li>
                    <a id="dropdown-lang-mobile-button" class="dropdown-button waves-effect waves-light btn" href="#"
                       data-activates="dropdown-lang-mobile" data-beloworigin="true"><i
                            class="material-icons right color-white-important">arrow_drop_down</i>#{msg[localeHandler.locale]}
                    </a>
                    <ul id="dropdown-lang-mobile" class="dropdown-content">
                        <h:form>
                            <li><h:commandLink value="#{msg['en']}" action="#{localeHandler.setLocale('en')}"/></li>
                            <li><h:commandLink value="#{msg['de']}" action="#{localeHandler.setLocale('de')}"/></li>
                        </h:form>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>


</ui:composition>